import{r as u,j as e,a as S,R as k}from"./index-DD7Hi6k5.js";import{D as b,a as P,T as M,d as h,F as T,e as E,L as R,C as I,W as w,f as F,R as y,o as v,B as O,h as W,b as A,r as _,p as B}from"./settings-Cib-WmFz.js";function D(){const[l,a]=u.useState(b),[o,i]=u.useState(!1),n=u.useMemo(()=>navigator.platform.toUpperCase().includes("MAC"),[]);u.useEffect(()=>{P().then(a)},[]);const g=async()=>{await A(l),i(!0),setTimeout(()=>i(!1),2e3)},m=async()=>{confirm("Reset all settings to defaults?")&&(await _(),a(b))},p=async()=>{confirm("Clear all data including reading positions and recent documents?")&&(await B(),a(b))},j=s=>{const c=h[s];a(f=>({...f,backgroundColor:c.backgroundColor,textColor:c.textColor,linkColor:c.linkColor,selectionColor:c.selectionColor,highlightColor:c.highlightColor}))},t=s=>{a(c=>({...c,...s}))};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("header",{className:"mb-8",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"FlowReader Settings"}),e.jsx("p",{className:"text-gray-600",children:"Customize your reading experience"})]}),e.jsx(x,{title:"Theme",children:e.jsx("div",{className:"flex gap-3 flex-wrap",children:M.map(s=>e.jsx("button",{onClick:()=>j(s.value),className:"px-4 py-2 rounded-lg border-2 transition-all",style:{backgroundColor:h[s.value].backgroundColor,color:h[s.value].textColor,borderColor:l.backgroundColor===h[s.value].backgroundColor?h[s.value].linkColor:"transparent"},children:s.label},s.value))})}),e.jsx(x,{title:"Typography",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(H,{label:"Font Family",value:l.fontFamily,options:T,onChange:s=>t({fontFamily:s})}),e.jsx(d,{label:"Font Size",value:l.fontSize,...E,unit:"px",onChange:s=>t({fontSize:s})}),e.jsx(d,{label:"Line Height",value:l.lineHeight,...R,onChange:s=>t({lineHeight:s})}),e.jsx(d,{label:"Column Width",value:l.columnWidth,...I,unit:"px",onChange:s=>t({columnWidth:s})}),e.jsx(N,{id:"hyphenation",label:"Enable hyphenation",checked:l.hyphenation,onChange:s=>t({hyphenation:s})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm",children:"Text Alignment:"}),e.jsxs("select",{value:l.textAlign,onChange:s=>t({textAlign:s.target.value}),className:"px-3 py-1 border rounded-lg",children:[e.jsx("option",{value:"left",children:"Left"}),e.jsx("option",{value:"justify",children:"Justified"})]})]})]})}),e.jsx(x,{title:"Speed Settings",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(d,{label:"Default Speed",value:l.baseWPM,...w,unit:" WPM",onChange:s=>t({baseWPM:s})}),e.jsx(N,{id:"rampEnabled",label:"Enable speed ramp-up",checked:l.rampEnabled,onChange:s=>t({rampEnabled:s})}),l.rampEnabled&&e.jsxs(e.Fragment,{children:[e.jsx(d,{label:"Target Speed",value:l.targetWPM,...F,unit:" WPM",onChange:s=>t({targetWPM:s})}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Increase by ",l.rampStep," WPM every ",l.rampInterval," seconds"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("input",{type:"number",value:l.rampStep,onChange:s=>t({rampStep:Number(s.target.value)}),className:"px-3 py-2 border rounded-lg",min:y.min,max:y.max}),e.jsx("input",{type:"number",value:l.rampInterval,onChange:s=>t({rampInterval:Number(s.target.value)}),className:"px-3 py-2 border rounded-lg",min:v.min,max:v.max})]})]})]})]})}),e.jsx(x,{title:"Bionic Reading",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(d,{label:"Intensity",value:l.bionicIntensity,...O,formatValue:s=>`${Math.round(s*100)}%`,onChange:s=>t({bionicIntensity:s})}),e.jsx(d,{label:"Bold Proportion",value:l.bionicProportion,...W,formatValue:s=>`${Math.round(s*100)}%`,onChange:s=>t({bionicProportion:s})}),e.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:e.jsxs("p",{className:"text-sm",style:{fontFamily:l.fontFamily},children:[e.jsx("strong",{children:"Pre"}),"view: ",e.jsx("strong",{children:"Thi"}),"s is ",e.jsx("strong",{children:"ho"}),"w"," ",e.jsx("strong",{children:"Bio"}),"nic ",e.jsx("strong",{children:"Rea"}),"ding ",e.jsx("strong",{children:"loo"}),"ks"," ",e.jsx("strong",{children:"wi"}),"th ",e.jsx("strong",{children:"yo"}),"ur ",e.jsx("strong",{children:"set"}),"tings."]})})]})}),e.jsx(x,{title:"Keyboard Shortcuts",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs(C,{title:"Extension",children:[e.jsx(r,{label:"Open Reader Mode",keys:n?"⌥+Shift+R":"Alt+Shift+R"}),e.jsx(r,{label:"Open Popup",keys:n?"⌥+Shift+O":"Alt+Shift+O"})]}),e.jsxs("p",{className:"text-xs text-gray-400",children:["Customize shortcuts at"," ",e.jsx("button",{onClick:()=>chrome.tabs.create({url:"chrome://extensions/shortcuts"}),className:"text-blue-500 hover:underline",children:"chrome://extensions/shortcuts"})]}),e.jsxs(C,{title:"In Reader Mode",children:[e.jsx(r,{label:"Play / Pause",keys:"Space"}),e.jsx(r,{label:"Close Reader",keys:"Esc"}),e.jsx(r,{label:"Next (word/sentence/block)",keys:"→ or J"}),e.jsx(r,{label:"Previous",keys:"← or K"}),e.jsx(r,{label:"Speed +10 WPM",keys:"↑"}),e.jsx(r,{label:"Speed -10 WPM",keys:"↓"}),e.jsx(r,{label:"Speed ±50 WPM",keys:"Shift+↑/↓"}),e.jsx(r,{label:"Cycle Mode",keys:"M"}),e.jsx(r,{label:"Toggle Bionic",keys:"B"}),e.jsx(r,{label:"Cycle Granularity",keys:"G"})]})]})}),e.jsx(x,{title:"Privacy",children:e.jsxs("div",{className:"text-sm text-gray-600 space-y-2",children:[e.jsx("p",{children:"FlowReader respects your privacy:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsx("li",{children:"All processing happens locally in your browser"}),e.jsx("li",{children:"No data is sent to external servers"}),e.jsx("li",{children:"No user accounts or tracking"}),e.jsx("li",{children:"Content never leaves your device"}),e.jsx("li",{children:"Settings stored locally in Chrome storage"})]})]})}),e.jsxs("div",{className:"flex gap-3 flex-wrap",children:[e.jsx("button",{onClick:g,className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:o?"Saved!":"Save Settings"}),e.jsx("button",{onClick:m,className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Reset to Defaults"}),e.jsx("button",{onClick:p,className:"px-6 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:"Clear All Data"})]}),e.jsx("p",{className:"mt-8 text-sm text-gray-400 text-center",children:"FlowReader v1.0.0"})]})})}function x({title:l,children:a}){return e.jsxs("section",{className:"bg-white rounded-xl p-6 mb-6 shadow-sm",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:l}),a]})}function d({label:l,value:a,min:o,max:i,step:n=1,unit:g="",formatValue:m,onChange:p}){const j=m?m(a):`${a}${g}`;return e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1",children:[l,": ",j]}),e.jsx("input",{type:"range",min:o,max:i,step:n,value:a,onChange:t=>p(Number(t.target.value)),className:"w-full"})]})}function N({id:l,label:a,checked:o,onChange:i}){return e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",id:l,checked:o,onChange:n=>i(n.target.checked)}),e.jsx("label",{htmlFor:l,className:"text-sm",children:a})]})}function H({label:l,value:a,options:o,onChange:i}){return e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:l}),e.jsx("select",{value:a,onChange:n=>i(n.target.value),className:"w-full px-3 py-2 border rounded-lg",children:o.map(n=>e.jsx("option",{value:n.value,children:n.label},n.value))})]})}function C({title:l,children:a}){return e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:l}),e.jsx("div",{className:"grid grid-cols-2 gap-2 text-sm",children:a})]})}function r({label:l,keys:a}){return e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:l}),e.jsx("kbd",{className:"px-2 py-0.5 bg-gray-100 rounded text-xs font-mono",children:a})]})}S.createRoot(document.getElementById("root")).render(e.jsx(k.StrictMode,{children:e.jsx(D,{})}));
